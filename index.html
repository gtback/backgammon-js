<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Backgammon-JS Demo</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }
  </style>
</head>

<body>
  <canvas id="board">
    <p>Backgammon Board</p>
  </canvas>

  <script>
    function drawBoard() {
      const canvas = document.querySelector('#board');
      const ctx = canvas.getContext('2d');

      const canvasWidth = canvas.width = 750;
      const canvasHeight = canvas.height = 550;

      const canvasMargin = 50;

      const frameX = canvasMargin;
      const frameY = canvasMargin;

      const frameWidth = canvasWidth - 2 * canvasMargin;
      const frameHeight = canvasHeight - 2 * canvasMargin;

      const frameThickness = 25;

      const boardX = frameX + frameThickness;
      const boardY = frameY + frameThickness;

      const boardWidth = frameWidth - 2 * frameThickness;
      const boardHeight = frameHeight - 2 * frameThickness;

      const pointHeight = boardHeight * 0.45;

      black = 'rgb(0, 0, 0)';
      brown = 'rgb(153,102,51)';
      red = 'rgb(255, 0, 0)';
      white = 'rgb(255, 255, 255)';

      ctx.lineWidth = 5;
      ctx.strokeStyle = black;
      ctx.strokeRect(0, 0, canvasWidth, canvasHeight);

      ctx.fillStyle = brown;
      ctx.fillRect(frameX, frameY, frameWidth, frameHeight);

      ctx.fillStyle = black;
      ctx.fillRect(boardX, boardY, boardWidth, boardHeight);

      ctx.lineWidth = 2;
      pointGap = 4;

      ctx.font = '18px arial';
      ctx.textAlign = 'center';

      for (point = 0; point < 24; point++) {
        ctx.strokeStyle = point % 2 == 0 ? white : red;
        ctx.fillStyle = point % 2 == 0 ? red : white;

        startX = boardX + (point % 12) * boardWidth / 12;
        midpoint = startX + boardWidth / 24;
        if (point >= 12) {
          baseLine = boardY;
          tip = boardY + pointHeight;
          textPoint = boardY - 5;
        }
        else {
          baseLine = boardY + boardHeight;
          tip = boardY + boardHeight - pointHeight;
          textPoint = boardY + boardHeight + 18;
        }

        ctx.beginPath();
        ctx.moveTo(startX + pointGap / 2, baseLine);
        ctx.lineTo(midpoint, tip);
        ctx.lineTo(startX + boardWidth / 12 - pointGap / 2, baseLine);
        ctx.stroke();
        // Back to starting point
        ctx.lineTo(startX + pointGap / 2, baseLine);
        ctx.fill();

        ctx.fillStyle = black;
        ctx.fillText(point + 1, midpoint, textPoint);
      }

      ctx.strokeStyle = black;
      ctx.strokeRect(boardX, boardY, boardWidth, boardHeight);

      point = 4;
      radius = boardWidth / 32;
      ctx.fillStyle = 'rgb(0, 127, 255)';

      startX = boardX + point * boardWidth / 12;
      midpoint = startX + boardWidth / 24;

      numCheckers = 4;
      for (i = 0; i < numCheckers; i++) {
        ctx.beginPath();
        ctx.arc(midpoint, boardY + pointGap / 2 + (2 * radius * i) + radius, radius, degToRad(0), degToRad(360), false);
        ctx.fill();
        ctx.stroke();
      }
    }

    function degToRad(degrees) {
      return degrees * Math.PI / 180;
    };

    drawBoard();
  </script>
</body>

</html>
